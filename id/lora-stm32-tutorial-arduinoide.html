<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="theme-color" content="#D96C22">

        <title>Antares | Documentation</title>

        <!-- Styles -->
        <link href="../assets/css/core.min.css" rel="stylesheet">
        <link href="../assets/css/thesaas.css" rel="stylesheet">
        <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css'>
        <link href="../assets/css/style.css" rel="stylesheet">
        <link href="../assets/css/prism.css" rel="stylesheet">
        <link href="../assets/css/web-browser-container.css" rel="stylesheet">


        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="57x57" href="../assets/img/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="../assets/img/favicon/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="../assets/img/favicon/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/favicon/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="../assets/img/favicon/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="../assets/img/favicon/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="../assets/img/favicon/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="../assets/img/favicon/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/favicon/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="../assets/img/favicon/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="../assets/img/favicon/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../assets/img/favicon/favicon-16x16.png">

        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="../assets/img/favicon/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">

        <style type="text/css">
            .affix {
                position: fixed;
                top: 60px;
            }

            ::-webkit-scrollbar-track
            {
                /*-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);*/
                background-color: #F5F5F5;
            }

            ::-webkit-scrollbar
            {
                width: 4px;
                background-color: #F5F5F5;
            }

            ::-webkit-scrollbar-thumb
            {
                background-color: rgba(0,0,0,.2);
            }

            .affix-bottom {
                position: absolute;
            }

            #sideb {
                height: calc(100vh - 60px);
                overflow-y: hidden;
            }
            #sideb:hover {
                height: calc(100vh - 60px);
                overflow-y: auto;
            }
        </style>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script type="text/javascript">
          (function ($, window, document, undefined) {

            $(function () {
              $("#navbar").load("nav.html #nav");
              $('#footer').load("nav.html #foot");
            });

          })(jQuery, window, document);
        </script>
    </head>

    <body data-target="#navbar" data-offset="60">

        <!-- Topbar -->
        <nav class="topbar topbar-inverse topbar-expand-md topbar-sticky" id="navbar">
          <!-- <nav class="topbar topbar-sticky"> -->
          <div class="container">
      
            <div class="topbar-left">
              <button class="topbar-toggler">&#9776;</button>
              <a class="topbar-brand hidden-md-down" href="index.html">
                <img class="logo-default" src="../assets/img/logo_antares.svg" style="width: 43%;" alt="logo">
                <img class="logo-inverse" src="../assets/img/logo-light.png" alt="logo">
              </a>
            </div>
      
            <a class="topbar-brand hidden-lg-up" href="index.html">
              <img class="logo-default" src="../assets/img/logo_antares.svg" style="width: 43%;" alt="logo">
              <img class="logo-inverse" src="../assets/img/logo-light.png" alt="logo">
            </a>
      
      
            <div class="topbar-right">
              <ul class="topbar-nav nav">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item">
                  <a class="nav-link" href="index.html">Services <em class="fa fa-caret-down"></em></a>
                  <div class="nav-submenu">
                    <a class="nav-link" href="index.html#feature">Features</a>
                    <a class="nav-link" href="index.html#getting-started">Getting Started</a>
                    <a class="nav-link" href="index.html#pricing">Pricing</a>
                  </div>
                </li>
                <li class="nav-item"><a class="nav-link" href="docs.html">Documentation</a></li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Community <em class="fa fa-caret-down"></em></a>
                  <div class="nav-submenu">
                    <a class="nav-link" href="https://blog.antares.id/">Blog</a>
                    <a class="nav-link" href="https://forum.antares.id/">Forum</a>
                  </div>
                </li>
                <li class="nav-item"><a class="nav-link" href="index.html#contact"> Contact</a></li>
              </ul>
               <a class="btn btn-sm btn-warning btn-round ml-20" href="https://console.antares.id/register" style="padding-left: 12px; padding-right: 12px;"><img src="../assets/img/signup.svg" style="width: 15px; height: 15px; margin-top: -3px;" alt="signup" class="hidden-lg-up"> <span class="hidden-md-down">Sign Up</span></a>
               <a class="btn btn-sm btn-warning btn-round ml-5" href="https://console.antares.id" style="padding-left: 12px;padding-right: 12px";><img src="../assets/img/login.svg" style="width: 15px; height: 15px; margin-top: -3px;" alt="login" class="hidden-lg-up"> <span class="hidden-md-down">Login</span></a>
            </div>
      
          </div>
        </nav>
        <!-- END Topbar -->



        <!-- Header -->
        <header class="header header-inverse bg-fixed" style="background-image: url(../assets/img/javier-quesada-222120.jpg)" data-overlay="8">
            <div class="container text-center">

                <div class="row">
                    <div class="col-12 col-lg-8 offset-lg-2">

                        <h1>Tutorial STM32 LoRa dengan Arduino IDE</h1>
                        <p class="fs-18 opacity-70">Dokumentasi ini akan menjelaskan kepada anda untuk menggunakan modul LoRa STM32 dan menghubungkannya dengan Antares menggunakan Arduino IDE. Jika membutuhkan informasi lebih lanjut, jangan ragu hubungi kami melalui <a href="mailto:support@antares.id">support@antares.id</a></p>

                    </div>
                </div>

            </div>
        </header>
        <!-- END Header -->




        <!-- Main container -->
        <main class="main-content">

            <!--
            |‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
            | DOC
            |‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
            !-->
            <section class="section bb-3" style="padding-top: 45px;">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 hidden-md-down" id="par">
                            <div class="" data-spy="affix" data-offset-top="400" data-offset-bottom="440" style="border-right: 1px solid rgba(97, 103, 113, 0.07)" id="chl">
                                <div class="card-block h-fullscreen pl-0" id="sideb">
                                    <!-- Pendahuluan -->
                                    <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                        <li>
                                            <label><a class="nav-link" href="#pendahuluan" data-scrollto="pendahuluan">Pendahuluan</a></label>
                                        </li>
                                    </ul> <!-- cd-accordion-menu -->

                                    <!-- Hardware -->
                                    <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                        <li>
                                            <label><a class="nav-link" href="#hardware" data-scrollto="hardware">Hardware</a></label>
                                        </li>
                                    </ul> <!-- cd-accordion-menu -->

                                    <!-- Software -->
                                    <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                        <li>
                                            <label><a class="nav-link" href="#software" data-scrollto="software">Software</a></label>
                                        </li>
                                    </ul> <!-- cd-accordion-menu -->

                                    <!-- Proses Instalasi dan Konfigurasi Awal -->
                                    <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                      <li>
                                          <label><a class="nav-link" href="#instalasi" data-scrollto="istalasi">Proses Instalasi dan Konfigurasi Awal</a></label>
                                      </li>
                                  </ul> <!-- cd-accordion-menu -->

                                    <!-- Contoh Program STM32 Arduino -->
		                                <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                        <li class="has-children">
                                            <input type="checkbox" checked>
                                            <label><a class="nav-link" href="#contohprogram" data-scrollto="contoh program">contoh kode program Arduino STM32</a></label>

                                            <ul>
                                              <li><a class="nav-link" href="#classc" data-scrollto="classa">Contoh kode program Kelas A (Uplink)</a></li>
                                              <li><a class="nav-link" href="#classa" data-scrollto="classc">Contoh kode program kelas C (Uplink)</a></li>
                                              <li><a class="nav-link" href="#downlink" data-scrollto="downlink">Tutorial Downlink</a></li>
                                            </ul>

                                        </li>
                                    </ul> <!-- cd-accordion-menu -->

                                    <!-- Video Tutorial -->
                                    <ul class="cd-accordion-menu animated" style="list-style: none;padding-left: 0">
                                      <li>
                                          <label><a class="nav-link" href="#stm32video" data-scrollto="stm32video">Video Tutorial</a></label>
                                      </li>
                                  </ul> <!-- cd-accordion-menu -->
                              
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9 pt-25">


				<!--
				|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
				| ISI DOC
				|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
				!-->
        <hr>
        <!-- Pendahuluan -->
        <h3 align="center" id="pendahuluan">
          Pendahuluan
        </h3>
        <p align="justify">
          Dokumentasi ini akan menjelaskan kepada anda bagaimana Modul LoRa STM32 dapat terhubung dengan platform Antares. Pada tutorial ini modul atau papan pengembang yang digunakan adalah seri STM32 LoRa Discovery Kit B-L072-LRWAN1, dan IDE yang digunakan adalah Arduino IDE. Untuk penggunaan modul lainnya anda dapat menyesuaikan dengan langkah yang ada pada tutorial ini, bagi anda yang menggunakan STM32CUbe IDE dapat mengikuti <a href="../id/lora-stm32-tutorial-cubeide.html">tutorial berikut</a>.<br> 
        </p>

        <!-- Hardware -->
        <h3 align="center" id="hardware">Hardware</h3>
        <p align="justify">
          Untuk mengikuti tutorial pada halaman ini berikut adalah beberapa perangkat yang kita butuhkan:
          <ul>
            <li><strong>Board STM32L072 LoRa Discovery Kit</strong></li>
            Papan yang digunakan pada tutorial ini adalah STM32 LoRa Discovery Kit B-L072-LRWAN1.
            <li><strong>Kabel Micro USB to USB</strong></li>
            Untuk menghubungkan papan anda dengan PC anda.
          </ul>
        </p>

  
<!-- Software -->
<h3 align="center" id="software">Software</h3>
<p align="justify">
  Berikut adalah beberapa software yang dibutuhkan untuk menjalankan contoh-contoh pada dokumentasi ini:

  <ul>
    <li><strong>Arduino IDE</strong></li>
    Software utama yang akan digunakan untuk memprogram papan STM32.<br>
    <a class="btn btn-lg btn-warning btn-round" href="https://www.arduino.cc/en/main/software">Download Arduino IDE</a>

    <li><strong>Arduino STM32</strong></li>
    Arduino IDE tidak mendukung board-board STM32 secara bawaannya, maka dari itu perlu dilakukan instalasi Arduino STM32 melalui <em>Board Manager</em> Arduino IDE. Untuk menambahkan board STM32 anda dapat mengikuti penjelasannya pada tutorial <a href="#instalasi" data-scrollto="instalasi">dibawah</a>.<br>
    <a class="btn btn-lg btn-warning btn-round" href="https://github.com/stm32duino/BoardManagerFiles/">Download Arduino STM32</a>

    <li><strong>Library Antares LoRaWAN</strong></li>
    Instalasi <em>library</em>  Antares LoRaWAN dapat dilakukan melalui <em>Library Manager</em> Arduino IDE. Silahkan ikuti <a href="library-tutorial.html#antareslibrary">Tutorial Instalasi Library Antares</a>.<br>

      <a class="btn btn-lg btn-warning btn-round" href="../assets/files/Antares-LoRaWAN-AS923.rar">Download Library Antares LoRaWAN AS923</a>
      
    </ul>
</p>

        <!-- Proses Instalasi -->
        <h3 align="center" id="instalasi">Proses Instalasi dan Konfigurasi Awal</h3>
        Segmen berikut akan menjelaskan bagaimana langkah-langkah awal instalasi dan konfigurasi untuk anda dapat memulai memrogram papan STM32 anda.<br>
        <p align="center"><img src="../assets/img/lib-1-preferences.png" alt=""></p>
        <p align="center"> Gambar 1. Pilih <strong>File->Preferences</strong> </p>

        <p align="center"><img src="../assets/img/lib-2-esp8266-add.png" alt=""></p>
        <p align="center"> Gambar 2. Menambahkan URL <em>board</em> tambahan </p>
        <p align="justify">
            Buka Arduino IDE, pilih <strong>Files -> Preferences</strong> kemudian masukkan URL berikut ke dalam kotak <strong>Additional Board Manager URLs</strong> kemudian klik <strong>OK</strong>.
        </p>
        <pre class="text-center"><code>https://raw.githubusercontent.com/stm32duino/BoardManagerFiles/master/STM32/package_stm_index.json</code></pre>
        <p align="justify"><strong>CATATAN:</strong> Anda dapat menambahkan beberapa URL dengan menambahkan koma untuk memisahkannya jika diperlukan.</p>
        <p align="center"><img src="../assets/img/lib-3-boardmanager.png" alt=""></p>
        <p align="center"> Gambar 3. Pilih <strong>Alat->Papan->Boards Manager</strong></p>

        <p align="center"><img src="../assets/img/stm32arduino-installboard.png" alt=""></p>
        <p align="center"> Gambar 4. Proses Instalasi board STM32 pada Arduino IDE </p>
        <p align="justify">
            Setelah menambahkan URL, langkah selanjutnya adalah instalasi board kita kedalam Arduino IDE. Pilih <strong>Alat->Papan->Boards Manager</strong>, kemudian anda dapat memasukkan kata kunci "stm32" pada kotak pencarian untuk memudahkan anda.
            Jika sudah menemukan <strong>STM32 Cores by STMicroelectronics</strong>, anda dapat memilih versi paling terbaru dan kemudian klik <strong>Install</strong>.
        </p>
        <p align="center"><img src="../assets/img/stm32arduino-pilihboard.png" alt=""></p>
        <p align="center"> Gambar 5. Pilih <strong>Alat->Papan->STM32 Boards->Discovery</strong>.</p>
        <p align="justify">
            Sesuai dengan <em>board</em> yang digunakan pada tutorial kali ini, maka anda dapat memilih <strong>Discovery</strong>.
        </p>

        <p align="center"><img src="../assets/img/stm32arduino-pilihseri.png" alt=""></p>
        <p align="center"> Gambar 6. Memilih Seri papan pada <strong>Tools->Board part number->Discovery L072CZ-LRWAN1</strong> </p>
        <p align="justify">
            Setelah itu anda diharuskan memilih seri Discovery yang anda gunakan, pada tutorial kali ini kita menggunakan seri Discovery L072CZ-LRWAN1. Setelah itu anda dapat <strong>memilih Port</strong> sesuai dengan yang anda gunakan. Sekarang papan anda sudah siap digunakan dan di program menggunakan Arduino IDE.           
        </p>

        <br>
        <h3 align="center" id=contohprogram>Contoh Kode Program</h3>
        <p align="justify">Setelah mengikuti langkah-langkah diatas, kini anda telah dapat memprogram papan STM32 anda menggunakan Arduino IDE. Berikut adalah beberapa contoh kode program yang dapat anda gunakan untuk menghungungkan papan STM32 anda dengan Antares melalui jaringan LoRa Telkom Indonesia. Sebelumnya anda perlu melakukan registrasi perangkat LoRa anda terlebih dahulu pada Antares, tutorial dapat anda pelajari pada <a href="../id/register-perangkat-lora.html">link berikut</a>.</p>
        <!--Contoh Kode Class A-->
        <h4 align="left" id="classa">Contoh kode program Kelas A (Uplink)</h4>
        <p align="justify">Kelas A digunakan bagi anda yang tidak memerlukan monitoring tidak realtime dan hemat daya. Proses aktivasi dilakukan dengan cara ABP yang dapat anda pelajari pada tutorial <strong><a href="../id/register-perangkat-lora.html">Registrasi Perangkat LoRa</a></strong>.</p>
        <pre class="line-numbers"><code class="language-c">/**
          Example of ABP device
          Authors:
                 Ivan Moreno
                 Eduardo Contreras
           June 2019
       
          This code is beerware; if you see me (or any other collaborator
          member) at the local, and you've found our code helpful,
          please buy us a round!
          Distributed as-is; no warranty is given.
       */
       #include <lorawan.h>
       
       //ABP Credentials
       const char *devAddr = "6bd6f664";
       const char *nwkSKey = "61be3b3d62c0db200000000000000000";
       const char *appSKey = "000000000000000066f9c0f3ff1cf05b";
       
       
       
       const unsigned long interval = 10000;    // 10 s interval to send message
       unsigned long previousMillis = 0;  // will store last time message sent
       unsigned int counter = 0;     // message counter
       
       char myStr[50];
       byte outStr[255];
       byte recvStatus = 0;
       int port, channel, freq;
       bool newmessage = false;
       
       const sRFM_pins RFM_pins = {
         .CS = PA15,
         .RST = PC0,
         .DIO0 = PB4,
         .DIO1 = PB1,
       };
       
       
       void setup() {
         SPI.setMOSI(PA7);
         SPI.setMISO(PA6);
         SPI.setSCLK(PB3);
         SPI.begin();
         // Setup loraid access
         Serial.begin(115200);
         delay(2000);
         if (!lora.init()) {
           Serial.println("RFM95 not detected");
           delay(5000);
           return;
         }
       
         // Set LoRaWAN Class change CLASS_A or CLASS_C
         lora.setDeviceClass(CLASS_A);
       
         // Set Data Rate
         lora.setDataRate(SF10BW125);
       
         // Set FramePort Tx
         lora.setFramePortTx(5);
       
         // set channel to random
         lora.setChannel(MULTI);
       
         // Put ABP Key and DevAddress here
         lora.setNwkSKey(nwkSKey);
         lora.setAppSKey(appSKey);
         lora.setDevAddr(devAddr);
       }
       
       void loop() {
         // Check interval overflow
         if (millis() - previousMillis > interval) {
           previousMillis = millis();
       
       
           byte myByte[] = {0x22, 0x33, 0xFF, 0xDA, 0xDD};
           Serial.print("Sending: ");
           for (int i = 0; i < sizeof(myByte); i++)
           {
             Serial.print(myByte[i]); Serial.print(" ");
           }
           Serial.println();
       
       
           lora.sendUplinkHex(myByte, sizeof(myByte), 0);
           port = lora.getFramePortTx();
           channel = lora.getChannel();
           freq = lora.getChannelFreq(channel);
           Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
           Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
           Serial.print(F("Freq: "));    Serial.print(freq); Serial.println(" ");
       
         }
       
         // Check Lora RX
         lora.update();
       
         recvStatus = lora.readDataByte(outStr);
         if (recvStatus) {
           newmessage = true;
           int counter = 0;
           port = lora.getFramePortRx();
           channel = lora.getChannelRx();
           freq = lora.getChannelRxFreq(channel);
       
           for (int i = 0; i < recvStatus; i++)
           {
             if (((outStr[i] >= 32) && (outStr[i] <= 126)) || (outStr[i] == 10) || (outStr[i] == 13))
               counter++;
           }
           if (port != 0)
           {
             if (counter == recvStatus)
             {
               Serial.print(F("Received String : "));
               for (int i = 0; i < recvStatus; i++)
               {
                 Serial.print(char(outStr[i]));
               }
             }
             else
             {
               Serial.print(F("Received Hex : "));
               for (int i = 0; i < recvStatus; i++)
               {
                 Serial.print(outStr[i], HEX); Serial.print(" ");
               }
             }
             Serial.println();
             Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
             Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
             Serial.print(F("Freq: "));    Serial.println(freq); Serial.println(" ");
           }
           else
           {
             Serial.print(F("Received Mac Cmd : "));
             for (int i = 0; i < recvStatus; i++)
             {
               Serial.print(outStr[i], HEX); Serial.print(" ");
             }
             Serial.println();
             Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
             Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
             Serial.print(F("Freq: "));    Serial.println(freq); Serial.println(" ");
           }
         }
       
       }</pre></code>

        <!--Contoh Kode ABP Class C-->
        <h4 align="left" id="classc">Contoh kode program Kelas C (Uplink)</h4>
        <p align="justify">Kelas C digunakan bagi anda yang membutuhkan monitoring secara realtime dan memiliki konsumsi daya paling boros. Proses aktivasi dilakukan dengan cara ABP yang dapat anda pelajari pada tutorial <strong><a href="../id/register-perangkat-lora.html">Registrasi Perangkat LoRa</a></strong>.</p>
        <pre class="line-numbers"><code class="language-c">/**
          Example of ABP device
          Authors:
                 Ivan Moreno
                 Eduardo Contreras
           June 2019
       
          This code is beerware; if you see me (or any other collaborator
          member) at the local, and you've found our code helpful,
          please buy us a round!
          Distributed as-is; no warranty is given.
       */
       #include <lorawan.h>
       
       //ABP Credentials
       const char *devAddr = "ae5cc78b";
       const char *nwkSKey = "e7e349fc2216941a0000000000000000";
       const char *appSKey = "00000000000000009d0cf82c25277bdd";
       
       
       const unsigned long interval = 10000;    // 10 s interval to send message
       unsigned long previousMillis = 0;  // will store last time message sent
       unsigned int counter = 0;     // message counter
       
       char myStr[50];
       byte outStr[255];
       byte recvStatus = 0;
       int port, channel, freq;
       bool newmessage = false;
       
       const sRFM_pins RFM_pins = {
         .CS = PA15,
         .RST = PC0,
         .DIO0 = PB4,
         .DIO1 = PB1,
       };
       
       
       void setup() {
         SPI.setMOSI(PA7);
         SPI.setMISO(PA6);
         SPI.setSCLK(PB3);
         SPI.begin();
         // Setup loraid access
         Serial.begin(115200);
         delay(2000);
         if (!lora.init()) {
           Serial.println("RFM95 not detected");
           delay(5000);
           return;
         }
       
         // Set LoRaWAN Class change CLASS_A or CLASS_C
         lora.setDeviceClass(CLASS_C);
       
         // Set Data Rate
         lora.setDataRate(SF10BW125);
       
         // Set FramePort Tx
         lora.setFramePortTx(5);
       
         // set channel to random
         lora.setChannel(MULTI);
       
         // Put ABP Key and DevAddress here
         lora.setNwkSKey(nwkSKey);
         lora.setAppSKey(appSKey);
         lora.setDevAddr(devAddr);
       }
       
       void loop() {
         // Check interval overflow
         if (millis() - previousMillis > interval) {
           previousMillis = millis();
       
       
           byte myByte[] = {0x22, 0x33, 0xFF, 0xDA, 0xDD};
           Serial.print("Sending: ");
           for (int i = 0; i < sizeof(myByte); i++)
           {
             Serial.print(myByte[i]); Serial.print(" ");
           }
           Serial.println();
       
       
           lora.sendUplinkHex(myByte, sizeof(myByte), 0);
           port = lora.getFramePortTx();
           channel = lora.getChannel();
           freq = lora.getChannelFreq(channel);
           Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
           Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
           Serial.print(F("Freq: "));    Serial.print(freq); Serial.println(" ");
       
         }
       
         // Check Lora RX
         lora.update();
       
         recvStatus = lora.readDataByte(outStr);
         if (recvStatus) {
           newmessage = true;
           int counter = 0;
           port = lora.getFramePortRx();
           channel = lora.getChannelRx();
           freq = lora.getChannelRxFreq(channel);
       
           for (int i = 0; i < recvStatus; i++)
           {
             if (((outStr[i] >= 32) && (outStr[i] <= 126)) || (outStr[i] == 10) || (outStr[i] == 13))
               counter++;
           }
           if (port != 0)
           {
             if (counter == recvStatus)
             {
               Serial.print(F("Received String : "));
               for (int i = 0; i < recvStatus; i++)
               {
                 Serial.print(char(outStr[i]));
               }
             }
             else
             {
               Serial.print(F("Received Hex : "));
               for (int i = 0; i < recvStatus; i++)
               {
                 Serial.print(outStr[i], HEX); Serial.print(" ");
               }
             }
             Serial.println();
             Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
             Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
             Serial.print(F("Freq: "));    Serial.println(freq); Serial.println(" ");
           }
           else
           {
             Serial.print(F("Received Mac Cmd : "));
             for (int i = 0; i < recvStatus; i++)
             {
               Serial.print(outStr[i], HEX); Serial.print(" ");
             }
             Serial.println();
             Serial.print(F("fport: "));    Serial.print(port); Serial.print(" ");
             Serial.print(F("Ch: "));    Serial.print(channel); Serial.print(" ");
             Serial.print(F("Freq: "));    Serial.println(freq); Serial.println(" ");
           }
         }
       
       }</pre></code>
        <br>

        <!--Tutorial Downlink-->
        <h4 align="left" id="downlink">Tutorial Downlink</h4>
        <p align="justify">Untuk dapat melakukan downlink pada <i>End-Devices</i>, anda dapat menggunakan salah satu perangkat lunak bernama Postman yang dapat anda pelajari pada <a href="../id/lora-downlink-tutorial.html">tutorial berikut</a>. Lalu anda dapat memantaunya pada serial monitor pada arduino IDE.</p>

        <div class="viewport">
          <img src="../assets/img/downlink-tutorial-10.png" alt="">
          <p align="center">Gambar 7. Downlink yang dapat dipantau pada serial monitor ArduinoIDE</p>
        </div>
        <br>


        <!--Video Tutorial-->
        <h3 align="center">Tutorial Video</h3>
        <p align="justify">Dibawah ini berikut kami menyertakan sebuah video tutorial untuk memudahkan anda lebih memahami penjelasan kami di atas. Jika membutuhkan informasi lebih lanjut, jangan ragu hubungi kami melalui <a href="mailto:support@antares.id">support@antares.id</a> </p>
        <div style="display:flex;justify-content:center;margin:20px">
          <iframe width="100%" id="stm32video" width="560" height="315" src="https://www.youtube.com/embed/O0oBk8T9isU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>Your browser does not support this video.</iframe>
        </div>
        <br>

                            </section>
                            </main>

                            <!-- END Main container -->

                            <!--
                              |‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
                              | Footer 5
                              |‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
                              !-->

                              <div class="bg-footer">
  <img class="image-footer" src="../assets/img/bg.jpg" alt="" height="100%" width="100%">
  <footer class="site-footer py-30 ">
    <div class="container" id="footer">
    </div>
  </footer>
</div>


                            <!-- Scripts -->
                            <script src="../assets/js/core.min.js"></script>
                            <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>
                            <script src="../assets/js/thesaas.min.js"></script>
                            <script src="../assets/js/affix.js"></script>
                            <script src="../assets/js/script.js"></script>
                            <script src="../assets/js/prism.js"></script>

                            <script>
                                $(document).ready(function () {
                                    $('#chl').width($('#par').width());

                                    var realm = 'https';
                                    var domain = 'platform.antares.id';
                                    var port = '8443';
                                    var cseName = 'antares-cse';
                                    var cseId = 'antares-id';

                                    $('code').each(function () {
                                        if ($(this).text().indexOf('https://') !== -1) {
                                            $(this).text($(this).text().replace('https', realm));
                                            $(this).text($(this).text().replace('platform.antares.id', domain));
                                            $(this).text($(this).text().replace('8443', port));
                                            $(this).text($(this).text().replace('antares-cse', cseName));
                                            $(this).text($(this).text().replace('cseId', cseId));
                                        }
                                    });
                                });
                            </script>

                            <script>
                                $(document).ready(function () {
                                    $('#chl').width($('#par').width());
                                });
                            </script>

                            <!-- Global Site Tag (gtag.js) - Google Analytics -->
                            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106459395-1"></script>
                            <script>
                                window.dataLayer = window.dataLayer || [];
                                function gtag() {
                                    dataLayer.push(arguments)
                                }
                                ;
                                gtag('js', new Date());

                                gtag('config', 'UA-106459395-1');

                            </script>

                            <script type="text/javascript">
   _linkedin_partner_id = "3151676";
   window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
   window._linkedin_data_partner_ids.push(_linkedin_partner_id);
</script>
<script type="text/javascript">
   (function (l) {
      if (!l) {
         window.lintrk = function (a, b) { window.lintrk.q.push([a, b]) };
         window.lintrk.q = []
      }
      var s = document.getElementsByTagName("script")[0];
      var b = document.createElement("script");
      b.type = "text/javascript"; b.async = true;
      b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
      s.parentNode.insertBefore(b, s);
   })(window.lintrk);
</script>
<noscript>
   <img height="1" width="1" style="display:none;" alt=""
      src="https://px.ads.linkedin.com/collect/?pid=3151676&fmt=gif" />
</noscript>
</body>
                            </html>
